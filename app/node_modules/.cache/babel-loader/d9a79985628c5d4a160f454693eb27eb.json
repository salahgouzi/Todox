{"ast":null,"code":"import { useState, useEffect } from \"react\";\nlet todos = [{\n  todoId: 0,\n  todoText: \"play with kids\"\n}, {\n  todoId: 1,\n  todoText: \"learn morrocan\"\n}, {\n  todoId: 2,\n  todoText: \"look for mother\"\n}];\n\nfunction foundTodo(todo, todos) {\n  let found = false;\n\n  for (let i = 0; i < todos.length; i++) {\n    if (todos[i].todoText == todo) {\n      found = true;\n    }\n  }\n\n  return found;\n}\n\nfunction uniqueId(savedTodos) {\n  let biggestId = 0;\n\n  for (let i = 0; i < savedTodos.length; i++) {\n    if (biggestId < savedTodos[i].todoId) {\n      biggestId = savedTodos[i].todoId;\n    }\n  }\n\n  return biggestId + 1;\n}\n\nfunction validInput(inp) {\n  let reg = new RegExp('^[a-zA-Z0-9_\\., ]*$');\n  return inp != \"\" && reg.test(inp) && inp.length > 3;\n}\n\nfunction todoAdd(message, setMessage) {\n  let inp = document.querySelector(\".input\").value;\n  let savedTodos = JSON.parse(localStorage.getItem(\"todos\"));\n\n  if (savedTodos.length < 9) {\n    if (validInput(inp)) {\n      if (!foundTodo(inp, savedTodos)) {\n        let id = uniqueId(savedTodos);\n        savedTodos.push({\n          todoId: id,\n          todoText: inp\n        });\n        localStorage.setItem(\"todos\", JSON.stringify(savedTodos));\n        console.info(\"ADDED TODO\");\n      } else {\n        setMessage(\"already exists\");\n        document.querySelector('.message').style.opacity = \"1\";\n        setTimeout(() => {\n          document.querySelector('.message').style.opacity = \"0\";\n        }, 2000);\n      }\n    } else {\n      setMessage(\"todo not valid\");\n      document.querySelector('.message').style.opacity = \"1\";\n      setTimeout(() => {\n        document.querySelector('.message').style.opacity = \"0\";\n      }, 2000);\n    }\n  } else {\n    setMessage(\"max todos\");\n    document.querySelector('.message').style.opacity = \"1\";\n    setTimeout(() => {\n      document.querySelector('.message').style.opacity = \"0\";\n    }, 2000);\n  }\n} // [{\"todoId\": \"0\", \"todoText\": \"do me ;_;\"}]\n\n\nexport { todoAdd, todos };","map":{"version":3,"names":["useState","useEffect","todos","todoId","todoText","foundTodo","todo","found","i","length","uniqueId","savedTodos","biggestId","validInput","inp","reg","RegExp","test","todoAdd","message","setMessage","document","querySelector","value","JSON","parse","localStorage","getItem","id","push","setItem","stringify","console","info","style","opacity","setTimeout"],"sources":["C:/Users/SALAH/CODE/react/todo/app/src/functions/todoAdd.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nlet todos = [\r\n    {todoId : 0, todoText : \"play with kids\"},\r\n    {todoId : 1, todoText : \"learn morrocan\"},\r\n    {todoId : 2, todoText : \"look for mother\"}]\r\n\r\nfunction foundTodo(todo, todos) {\r\n    let found = false;\r\n    for (let i = 0; i < todos.length; i++) {\r\n        if (todos[i].todoText == todo) {\r\n            found  = true\r\n        }\r\n    }\r\n    return found\r\n}\r\nfunction uniqueId(savedTodos) {\r\n    let biggestId = 0\r\n    for (let i = 0; i < savedTodos.length; i++) {\r\n        if (biggestId < savedTodos[i].todoId) {\r\n            biggestId = savedTodos[i].todoId \r\n        }\r\n    }\r\n    return biggestId + 1\r\n}\r\nfunction validInput(inp) {\r\n    let reg = new RegExp('^[a-zA-Z0-9_\\., ]*$');\r\n    return (inp != \"\" &&  reg.test(inp) && inp.length > 3) \r\n}\r\n\r\nfunction todoAdd(message, setMessage) {\r\n    let inp = document.querySelector(\".input\").value\r\n    let savedTodos = JSON.parse(localStorage.getItem(\"todos\"))\r\n    if (savedTodos.length < 9) {\r\n        if (validInput(inp)) {\r\n            if (!foundTodo(inp, savedTodos)) {\r\n                let id = uniqueId(savedTodos)\r\n                savedTodos.push({todoId : id, todoText : inp})\r\n                localStorage.setItem(\"todos\", JSON.stringify(savedTodos))\r\n                console.info(\"ADDED TODO\")\r\n            }\r\n            else {\r\n                setMessage(\"already exists\")\r\n                document.querySelector('.message').style.opacity = \"1\"\r\n                setTimeout( () => {\r\n                    document.querySelector('.message').style.opacity = \"0\"\r\n                },2000)\r\n            }\r\n        }\r\n        else {\r\n            setMessage(\"todo not valid\")\r\n            document.querySelector('.message').style.opacity = \"1\"\r\n            setTimeout( () => {\r\n                document.querySelector('.message').style.opacity = \"0\"\r\n            },2000)\r\n        }\r\n    }\r\n    else {\r\n        setMessage(\"max todos\")\r\n        document.querySelector('.message').style.opacity = \"1\"\r\n        setTimeout( () => {\r\n            document.querySelector('.message').style.opacity = \"0\"\r\n        },2000)\r\n    }\r\n}\r\n// [{\"todoId\": \"0\", \"todoText\": \"do me ;_;\"}]\r\nexport {todoAdd, todos}"],"mappings":"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"},"metadata":{},"sourceType":"module"}